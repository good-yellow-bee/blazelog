# BlazeLog Server Configuration for Docker Development
#
# Use with: docker compose --profile dev up -d

server:
  grpc_address: ":9443"
  http_address: ":8080"
  tls:
    enabled: false

# Database configuration
database:
  path: "/data/blazelog.db"

# Authentication configuration
auth:
  jwt_secret_env: "BLAZELOG_JWT_SECRET"
  csrf_secret_env: "BLAZELOG_CSRF_SECRET"
  access_token_ttl: "15m"
  refresh_token_ttl: "168h"
  rate_limit_per_ip: 100
  rate_limit_per_user: 1000
  lockout_threshold: 5
  lockout_duration: "15m"

# SSH security settings
ssh:
  host_key_file: "/etc/blazelog/known_hosts"
  host_key_policy: "tofu"
  audit_log: "/data/ssh-audit.log"
  pool:
    max_per_host: 5
    idle_timeout: 5m

# Metrics disabled for dev
metrics:
  enabled: false
  address: ":9090"

# ClickHouse enabled for dev
clickhouse:
  enabled: true
  addresses:
    - "clickhouse:9000"
  database: "blazelog"
  username: "blazelog"
  password_env: "CLICKHOUSE_PASSWORD"
  batch_size: 1000
  flush_interval: "2s"
  max_buffer_size: 10000
  max_open_conns: 5
  retention_days: 7
